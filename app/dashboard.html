<!DOCTYPE html>
<html>
<head>
  <title>Smart Doc</title>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css">
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>

  <script src="./app.js"></script>
</head>
<body>
  <div id="app">
  	    <header>
      <div class="collapse bg-dark" id="navbarHeader">
        <div class="container">
          <div class="row">
            <div class="col-sm-8 py-4">
              <h4 class="text-white">About</h4>
              <p class="text-muted">Add some information about the album below, the author, or any other background context. Make it a few sentences long so folks can pick up some informative tidbits. Then, link them off to some social networking sites or contact information.</p>
            </div>
            <div class="col-sm-4 py-4">
              <h4 class="text-white">Contact</h4>
              <ul class="list-unstyled">
                <li><a href="#" class="text-white">Follow on Twitter</a></li>
                <li><a href="#" class="text-white">Like on Facebook</a></li>
                <li><a href="#" class="text-white">Email me</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="navbar navbar-dark bg-dark">
        <div class="container d-flex justify-content-between">
          <a href="#" class="navbar-brand">Smart Doc</a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarHeader" aria-controls="navbarHeader" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
      </div>
    </header>

    <main role="main">

      <section class="jumbotron text-center">
        <div class="container">
          <h1 class="jumbotron-heading">Welcome, {user}</h1>
          <p class="lead text-muted"> Select files to upload.</p>
          <div>
            <label class="custom-file">
              <input type="file" multiple id="file" @change="processFile($event)" class="custom-file-input">
              <span class="custom-file-control">{uploadFieldName.name}</span>
            </label>
            <a href="#" id="uploadit" class="btn btn-primary mt-1" v-bind:class="{'disabled': uploadFieldName==''}">Upload</a>
            <p class="lead">or</p><button data-toggle="modal" data-target="#exampleModal" class="btn btn-warning">Ask for Requests</button>
          </div>
        </div>
      </section>

      <img src="http://via.placeholder.com/300x150?text=today" id="onetwothree">
      <div class="album text-muted">

        <div class="container">
          <div class="row">
            <div class="card" v-for="file in files">
              <img src="http://via.placeholder.com/300x150?text=today">
              <p class="card-text">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
            </div>
          </div>

        </div>
      </div>

    </main>

    <footer class="text-muted">
      <div class="container">
        <p class="float-right">
          <a href="#">Back to top</a>
        </p>
      </div>
    </footer>
      <!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Request a person for docs</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">

        <input type="text" class="form-control" v-model="request" placeholder="enter number of person">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-primary" v-on:click="sendRequest">Send Request</button>
      </div>
    </div>
  </div>
</div>
	</div>
  <script src="https://unpkg.com/vue"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue-resource@1.3.4"></script>
  <script type="text/javascript">
  	var app = new Vue({
  el: '#app',
  delimiters: ['{', '}'],
  data: {
    doc: false,
    pat: false,
    hos: false,
    busy: false,
    otpbox: false,
    otp: '',
    phone: "",
    user: 'John',
    uploadFieldName: '',
    files: [],
    request: ''
  },
  methods: {
    update: function(val){
      this.doc = this.pat = this.hos = false;
      console.log(val)
      switch(val){
        case 1: this.hos = true;
        break;
        case 2: this.pat = true;
        break;
        case 0: this.doc = true;
        break;
      }
    },
    processFile: function(event) {
      console.log(event)
      this.uploadFieldName = event.target.files[0]
    },
    loadMore: function() {
      console.log("Sdsd") 
    },
    login: function(){
      this.$http.get('/token/'+this.phone).then(response => {
        this.otpbox = true;

      }, response => {
        // error callback
      });
    },
    otppost: function(){
      this.$http.get('/verify/'+this.otp).then(response => {
        this.otpbox = true;
        window.location.href = '/dashboard'
      }, response => {
        // error callback
      });
    },
    sendRequest: function(){
    	this.$http.get('http://localhost:8000/request/'+this.request).then(function(response){

    	})
    }
  }
})

  </script>


</body>
</html>
